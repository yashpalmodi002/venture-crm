(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{178:function(a,t,s){"use strict";s.r(t);var e=s(0),n=Object(e.a)({},(function(){this._self._c;return this._m(0)}),[function(){var a=this,t=a._self._c;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"installation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[a._v("#")]),a._v(" Installation")]),a._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#requirements"}},[a._v("Requirements")])]),t("li",[t("a",{attrs:{href:"#install-laravel-crm"}},[a._v("Install Laravel CRM")]),t("ul",[t("li",[t("a",{attrs:{href:"#require-the-current-package-using-composer"}},[a._v("Require the current package using composer")])]),t("li",[t("a",{attrs:{href:"#publish-the-migrations-config-assets"}},[a._v("Publish the migrations, config & assets")])]),t("li",[t("a",{attrs:{href:"#update-the-various-config-settings-in-the-published-config-file"}},[a._v("Update the various config settings in the published config file")])]),t("li",[t("a",{attrs:{href:"#run-migrations"}},[a._v("Run migrations")])]),t("li",[t("a",{attrs:{href:"#run-database-seeder"}},[a._v("Run database seeder")])]),t("li",[t("a",{attrs:{href:"#update-user-model"}},[a._v("Update User Model")])]),t("li",[t("a",{attrs:{href:"#register-at-least-one-user-and-log-in-or-if-you-already-have-a-user-login-with-the-crm-owner-you-set-in-step-5"}},[a._v("Register at least one user and log in or if you already have a user login with the crm owner you set in step 5")])])])])])]),t("p"),a._v(" "),t("h2",{attrs:{id:"requirements"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#requirements"}},[a._v("#")]),a._v(" Requirements")]),a._v(" "),t("ul",[t("li",[a._v("PHP ^7.3")]),a._v(" "),t("li",[a._v("MySQL 5.7+ / MariaDB 10.2.7+")]),a._v(" "),t("li",[a._v("Laravel 6.0+")])]),a._v(" "),t("h2",{attrs:{id:"install-laravel-crm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-laravel-crm"}},[a._v("#")]),a._v(" Install Laravel CRM")]),a._v(" "),t("h3",{attrs:{id:"require-the-current-package-using-composer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#require-the-current-package-using-composer"}},[a._v("#")]),a._v(" Require the current package using composer")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("composer")]),a._v(" require venturedrake/laravel-crm\n")])])]),t("h3",{attrs:{id:"publish-the-migrations-config-assets"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#publish-the-migrations-config-assets"}},[a._v("#")]),a._v(" Publish the migrations, config & assets")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("php artisan vendor:publish "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--provider")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"VentureDrake\\LaravelCrm\\LaravelCrmServiceProvider"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--tag")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"migrations"')]),a._v("\nphp artisan vendor:publish "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--provider")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"VentureDrake\\LaravelCrm\\LaravelCrmServiceProvider"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--tag")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"config"')]),a._v("\nphp artisan vendor:publish "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--provider")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"VentureDrake\\LaravelCrm\\LaravelCrmServiceProvider"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--tag")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"assets"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--force")]),a._v("\n")])])]),t("h3",{attrs:{id:"update-the-various-config-settings-in-the-published-config-file"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#update-the-various-config-settings-in-the-published-config-file"}},[a._v("#")]),a._v(" Update the various config settings in the published config file")]),a._v(" "),t("p",[a._v("After publishing the package assets a configuration file will be located at "),t("code",[a._v("config/laravel-crm.php")])]),a._v(" "),t("p",[a._v('Please read the comments in this file for each setting. Most can be left as the default, however you will need to update the "CRM Owner" setting to access the CRM initially.')]),a._v(" "),t("p",[a._v("Please note if you set the route_prefix to blank or null you will need to update the default "),t("code",[a._v("routes/web.php")]),a._v(" file. All the crm routes are managed by the package, so it should look just as per below after removing the default welcome route and redirecting the default /home route to the dashboard.")]),a._v(" "),t("h4",{attrs:{id:"laravel-7-and-below"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#laravel-7-and-below"}},[a._v("#")]),a._v(" Laravel 7 and below")]),a._v(" "),t("div",{staticClass:"language-php extra-class"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token php language-php"}},[t("span",{pre:!0,attrs:{class:"token delimiter important"}},[a._v("<?php")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token package"}},[a._v("Illuminate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Support"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Facades"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Route")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token class-name static-context"}},[a._v("Auth")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("::")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("routes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token class-name static-context"}},[a._v("Route")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("::")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[a._v("'/home'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("redirect")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[a._v("'/'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])]),t("h4",{attrs:{id:"laravel-8"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#laravel-8"}},[a._v("#")]),a._v(" Laravel 8+")]),a._v(" "),t("div",{staticClass:"language-php extra-class"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token php language-php"}},[t("span",{pre:!0,attrs:{class:"token delimiter important"}},[a._v("<?php")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token package"}},[a._v("Illuminate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Support"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Facades"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Route")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token class-name static-context"}},[a._v("Route")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("::")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("middleware")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[a._v("'auth:sanctum'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[a._v("'verified'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("->")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[a._v("'/dashboard'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("redirect")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[a._v("'/'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("->")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[a._v("'dashboard'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])]),t("h3",{attrs:{id:"run-migrations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#run-migrations"}},[a._v("#")]),a._v(" Run migrations")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("php artisan migrate\n")])])]),t("h3",{attrs:{id:"run-database-seeder"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#run-database-seeder"}},[a._v("#")]),a._v(" Run database seeder")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("php artisan db:seed "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--class")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"VentureDrake\\LaravelCrm\\Database\\Seeders\\LaravelCrmTablesSeeder"')]),a._v("\n")])])]),t("h3",{attrs:{id:"update-user-model"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#update-user-model"}},[a._v("#")]),a._v(" Update User Model")]),a._v(" "),t("ul",[t("li",[a._v("Add the HasCrmAccess, HasCrmTeams, HasRoles traits.")]),a._v(" "),t("li",[a._v("Add the Lab404\\AuthChecker\\Models\\HasLoginsAndDevices trait and the Lab404\\AuthChecker\\Interfaces\\HasLoginsAndDevicesInterface interface.")])]),a._v(" "),t("div",{staticClass:"language-php extra-class"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token package"}},[a._v("Illuminate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Foundation"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Auth"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("User")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("as")]),a._v(" Authenticatable"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token package"}},[a._v("Spatie"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Permission"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Traits"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("HasRoles")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token package"}},[a._v("VentureDrake"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("LaravelCrm"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Traits"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("HasCrmAccess")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token package"}},[a._v("VentureDrake"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("LaravelCrm"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Traits"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("HasCrmTeams")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token package"}},[a._v("Lab404"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("AuthChecker"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Models"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("HasLoginsAndDevices")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token package"}},[a._v("Lab404"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("AuthChecker"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Interfaces"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("HasLoginsAndDevicesInterface")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name-definition class-name"}},[a._v("User")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("extends")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Authenticatable")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("implements")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("HasLoginsAndDevicesInterface")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token package"}},[a._v("HasRoles")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token package"}},[a._v("HasCrmAccess")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token package"}},[a._v("HasCrmTeams")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token package"}},[a._v("HasLoginsAndDevices")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// ...")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("h3",{attrs:{id:"register-at-least-one-user-and-log-in-or-if-you-already-have-a-user-login-with-the-crm-owner-you-set-in-step-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#register-at-least-one-user-and-log-in-or-if-you-already-have-a-user-login-with-the-crm-owner-you-set-in-step-5"}},[a._v("#")]),a._v(" Register at least one user and log in or if you already have a user login with the crm owner you set in step 5")]),a._v(" "),t("p",[a._v("Access the crm to register/login at http://your-project-url/crm")]),a._v(" "),t("p",[a._v("Note if you modified the route_prefix setting from the default the above url will change dependent on that setting.")])])}],!1,null,null,null);t.default=n.exports}}]);